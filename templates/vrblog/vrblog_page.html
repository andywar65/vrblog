{% extends "vrblog_base.html" %}

{% load wagtailcore_tags wagtailimages_tags %}

{% block body_class %}template-vrblogpage{% endblock %}

{% block content %}
<a-entity id="room-ent"
  position="0 0 0"
  rotation="0 0 0">

  <a-entity id="floor"
  geometry="primitive: plane; width: 3; height: 3"
  position="0 0 0"
  rotation="-90 0 0"
  material="color: #666666; src: ; repeat: 1 1">
  </a-entity>

  <a-entity id="ceiling"
  geometry="primitive: plane; width: 3; height: 3"
  position="0 3 0"
  rotation="90 0 0"
  material="color: #666666; src: ; repeat: 1 1">
  </a-entity>

  <a-entity id="wall-front-ent"
    position="0 0 -1.5"
    rotation="0 0 0">
      <a-entity id="wall-front-title"
        geometry="primitive: plane; width: 3; height: 0.2"
        position="0 2.9 0"
        material="color: #ffffff; src: ; repeat: 1 1"
        text="value: {{ page.title }}; color: black; align: center; wrap-count: 30;">
      </a-entity>
      <a-entity id="wall-front-intro"
        geometry="primitive: plane; width: 3; height: 0.1"
        position="0 2.75 0"
        material="color: #eeeeee; src: ; repeat: 1 1"
        text="value: {{ page.intro }}; color: black; align: center; wrap-count: 60;">
      </a-entity>
      <a-entity id="wall-front-date"
        geometry="primitive: plane; width: 3; height: 0.1"
        position="0 2.65 0"
        material="color: #dddddd; src: ; repeat: 1 1"
        text="value: Published {{ page.date }}; color: black; align: left; wrap-count: 60;">
      </a-entity>
      <a-entity id="wall-front-body"
        geometry="primitive: plane; width: 3; height: 2.6"
        position="0 1.3 0"
        material="color: #ffffff; src: ; repeat: 1 1"
        text="value: {{ page.body }}; color: black; align: left; wrap-count: 50;">
      </a-entity>
  </a-entity>

  <a-entity id="wall-left-ent"
    position="1.5 0 0"
    rotation="0 -90 0">
      <a-plane id="wall-left" position="0 1.5 0"
      width="3" height="3" src="">
      </a-plane>
  </a-entity>

  <a-entity id="wall-back-ent"
    position="0 0 1.5"
    rotation="0 180 0">
      <a-plane id="wall-back" position="0 1.5 0"
      width="3" height="3" src="">
      </a-plane>
  </a-entity>

  <a-entity id="wall-right-ent"
    position="-1.5 0 0"
    rotation="0 90 0">
      <a-plane id="wall-right" position="0 1.5 0"
      width="3" height="3" src="">
      </a-plane>
  </a-entity>

  {% with categories=page.categories.all %}
    {% if categories %}
      <h3>Posted in:</h3>
        <ul>
          {% for category in categories %}
            <li>
              {% image category.icon fill-32x32 style="vertical-align: middle" %}
              {{ category.name }}
            </li>
          {% endfor %}
        </ul>
    {% endif %}
  {% endwith %}

  {% for item in page.gallery_images.all %}
    <div style="float: left; margin: 10px">
      {% image item.image fill-320x240 %}
      <p>{{ item.caption }}</p>
    </div>
  {% endfor %}

  <p><a href="{{ page.get_parent.url }}">Return to VRblog Index Page</a></p>

  {% if page.tags.all.count %}
  <div class="tags">
    <h3>Tags</h3>
      {% for tag in page.tags.all %}
        <a href="{% slugurl 'tags' %}?tag={{ tag }}">
          <button type="button">{{ tag }}</button>
        </a>
      {% endfor %}
  </div>
  {% endif %}

{% endblock %}
