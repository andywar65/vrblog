{% extends "vrblog_base.html" %}

{% load wagtailcore_tags wagtailimages_tags %}

{% block body_class %}template-vrblogpage{% endblock %}

{% block content %}
<a-entity id="room-ent"
  position="0 0 0"
  rotation="0 0 0">

  <a-entity id="floor"
  geometry="primitive: plane; width: 3; height: 3"
  position="0 0 0"
  rotation="-90 0 0"
  material="color: #666666; src: ; repeat: 1 1">
  </a-entity>

  <a-entity id="ceiling"
  geometry="primitive: plane; width: 3; height: 3"
  position="0 3 0"
  rotation="90 0 0"
  material="color: #81d742; src: ; repeat: 1 1">
  </a-entity>

  <a-entity id="wall-front-ent"
    position="0 0 -1.5"
    rotation="0 0 0">
    <a-entity id="wall-front-label" scale="2 2 2" position="0 0.1 0.01"
    text="value: {{ page.title }}; color: black; align: center;"></a-entity>
      <a-plane id="wall-front" position="0 1.5 0"
      width="3" height="3" src="">
      </a-plane>
  </a-entity>

  <a-entity id="wall-left-ent"
    position="1.5 0 0"
    rotation="0 -90 0">
      <a-plane id="wall-left" position="0 1.5 0"
      width="3" height="3" src="">
      </a-plane>
  </a-entity>

  <a-entity id="wall-back-ent"
    position="0 0 1.5"
    rotation="0 180 0">
      <a-plane id="wall-back" position="0 1.5 0"
      width="3" height="3" src="">
      </a-plane>
  </a-entity>

  <a-entity id="wall-right-ent"
    position="-1.5 0 0"
    rotation="0 90 0">
      <a-plane id="wall-right" position="0 1.5 0"
      width="3" height="3" src="">
      </a-plane>
  </a-entity>

  <p class='meta'>{{ page.date }}</p>

  {% with categories=page.categories.all %}
    {% if categories %}
      <h3>Posted in:</h3>
        <ul>
          {% for category in categories %}
            <li>
              {% image category.icon fill-32x32 style="vertical-align: middle" %}
              {{ category.name }}
            </li>
          {% endfor %}
        </ul>
    {% endif %}
  {% endwith %}

  <div class="intro">{{ page.intro }}</div>

  {{ page.body|richtext }}

  {% for item in page.gallery_images.all %}
    <div style="float: left; margin: 10px">
      {% image item.image fill-320x240 %}
      <p>{{ item.caption }}</p>
    </div>
  {% endfor %}

  <p><a href="{{ page.get_parent.url }}">Return to VRblog Index Page</a></p>

  {% if page.tags.all.count %}
  <div class="tags">
    <h3>Tags</h3>
      {% for tag in page.tags.all %}
        <a href="{% slugurl 'tags' %}?tag={{ tag }}">
          <button type="button">{{ tag }}</button>
        </a>
      {% endfor %}
  </div>
  {% endif %}

{% endblock %}
